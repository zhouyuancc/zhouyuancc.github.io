<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.34">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #1d9421}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; min-height: 21.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #c91b13}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Heiti SC Light'; color: #1d9421}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #822e0e}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #c32275}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #3d1d81}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #539aa4}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #3c828c}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #6122ae}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #c32275; min-height: 21.0px}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Menlo; color: #703daa}
    li.li14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Courier New'; color: #323333}
    li.li15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Courier New'; color: #323333; min-height: 15.0px}
    li.li16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px 'Courier New'; color: #afafaf; min-height: 15.0px}
    span.s1 {font-variant-ligatures: no-common-ligatures}
    span.s2 {font-variant-ligatures: no-common-ligatures; color: #822e0e}
    span.s3 {font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures}
    span.s4 {font-variant-ligatures: no-common-ligatures; color: #0435ff}
    span.s5 {font-variant-ligatures: no-common-ligatures; color: #c32275}
    span.s6 {font-variant-ligatures: no-common-ligatures; color: #000000}
    span.s7 {font-variant-ligatures: no-common-ligatures; color: #539aa4}
    span.s8 {font: 18.0px 'Heiti SC Light'; font-variant-ligatures: no-common-ligatures}
    span.s9 {font: 18.0px Menlo; font-variant-ligatures: no-common-ligatures; color: #000000}
    span.s10 {font-variant-ligatures: no-common-ligatures; color: #6122ae}
    span.s11 {font-variant-ligatures: no-common-ligatures; color: #c91b13}
    span.s12 {font-variant-ligatures: no-common-ligatures; color: #3d1d81}
    span.s13 {font-variant-ligatures: no-common-ligatures; color: #703daa}
    span.s14 {font-variant-ligatures: no-common-ligatures; color: #294c50}
    span.s15 {font-variant-ligatures: no-common-ligatures; color: #78492a}
    span.s16 {font-variant-ligatures: no-common-ligatures; color: #1d9421}
    span.s17 {font: 18.0px 'Heiti SC Light'; font-variant-ligatures: no-common-ligatures; color: #1d9421}
    span.s18 {font: 18.0px 'Heiti SC Light'; font-variant-ligatures: no-common-ligatures; color: #c91b13}
    span.s19 {font-kerning: none; color: #ff2500}
    span.s20 {font-kerning: none}
    span.s21 {font-kerning: none; color: #008200}
    span.s22 {font: 13.0px 'Heiti SC Light'; font-kerning: none; color: #008200}
    span.s23 {font-kerning: none; color: #006699}
    span.Apple-tab-span {white-space:pre}
    td.td1 {width: 1149.0px}
    td.td2 {width: 38.0px}
    td.td3 {width: 946.0px}
    ul.ul1 {list-style-type: disc}
  </style>
</head>
<body>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>UIWebViewDemoViewController.m</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>UIWebViewDemo</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>Created by ki on 11-6-14.</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>Copyright 2011 __MyCompanyName__. All rights reserved.</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p3"><span class="s2">#import </span><span class="s1">"UIWebViewDemoViewController.h"</span></p>
<p class="p3"><span class="s2">#import </span><span class="s1">"UIWebViewController.h"</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p4"><span class="s3">//</span><span class="s1">限定大图片尺寸</span></p>
<p class="p5"><span class="s1">#define BIG_IMG_WIDTH </span><span class="s4">264</span></p>
<p class="p5"><span class="s1">#define BIG_IMG_HEIGHT </span><span class="s4">200</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s5">@implementation</span><span class="s1"> UIWebViewDemoViewController</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p7"><span class="s1">@synthesize</span><span class="s6"> WebView;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.</span></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)viewDidLoad {</span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span>[</span><span class="s5">super</span><span class="s6"> </span><span class="s1">viewDidLoad</span><span class="s6">];</span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span>[</span><span class="s5">self</span><span class="s6">.</span><span class="s7">WebView</span><span class="s6"> </span><span class="s1">setDelegate</span><span class="s6">:</span><span class="s5">self</span><span class="s6">];</span></p>
<p class="p1"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s1">/*</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>NSString *htmlString = @"&lt;p&gt;&lt;a href='pic:huoxing.jpg'&gt;&lt;img src='huoxing.jpg' width='88' height='100' align='right'&gt;&lt;/a&gt;\</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s8">111111</span><span class="s1">&lt;/p&gt;";</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>*/</span></p>
<p class="p1"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s1">/*</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>//</span><span class="s8">测试下</span><span class="s1">CSS</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>NSString *htmlString = @"&lt;html&gt;&lt;head&gt;&lt;style type='text/css'&gt;span.highlight{background-color:blue;font-size:120%}&lt;/style&gt;&lt;/head&gt;\</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;body&gt;\</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;p&gt;&lt;a href='pic:huoxing.jpg'&gt;&lt;img src='huoxing.jpg' width='88' height='100' align='right'&gt;&lt;/a&gt;\</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;span class='highlight'&gt;</span><span class="s8">好心人帮帮忙</span><span class="s1">,</span><span class="s8">我要回家啊</span><span class="s1">! &lt;/span&gt;</span><span class="s8">111111</span><span class="s1">&lt;/p&gt;\</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;/body&gt;\</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>&lt;/html&gt;";</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span> */</span></p>
<p class="p2"><span class="s1"><span class="Apple-tab-span">	</span></span></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><span class="s3">//</span><span class="s1">利用</span><span class="s3">CSS</span><span class="s1">修饰出带阴影的图片</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>NSString *htmlString = @"&lt;html&gt;&lt;head&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;style type='text/css'&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>img.shadow{padding:4px 10px 10px 4px;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>border:0;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>border-top:#eee 1px solid;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>border-left:#eee 1px solid;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>background-image: url(shadow.gif);\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>background-repeat: no-repeat;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>background-position: right bottom;}\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;/style&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;style type='text/css'&gt;span.highlight{background-color:blue;font-size:110%}&lt;/style&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;/head&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;body&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;p&gt;&lt;a href='pic:huoxing.jpg'&gt;&lt;img class='shadow' src='huoxing.jpg' width='88' height='70' align='right'&gt;&lt;/a&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;span class='highlight'&gt;</span><span class="s8">111</span><span class="s1">&lt;/span&gt; </span><span class="s8">1111111</span><span class="s1">&lt;/p&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;/body&gt;\</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>&lt;/html&gt;";</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p3"><span class="s6"><span class="Apple-converted-space">   </span></span><span class="s10">NSString</span><span class="s6"> *htmlString = </span><span class="s1">@"&lt;html&gt;&lt;head&gt;&lt;meta name='viewport' content='initial-scale=1.0, user-scalable=no' /&gt;&lt;/head&gt;&lt;body style='background-color: transparent;'&gt;<span class="Apple-converted-space">  </span></span><span class="s8">大使馆分手大师对方发送的广东分公司对方公司的告诉对方给第三方个电饭锅电饭锅电饭锅电饭锅的双方各大使馆分手大师对方发送的广东分公司对方公司的告诉对方给第三方个电饭锅电饭锅电饭锅电饭锅的双方各大使馆分手大师对方发送的广东分公司对方公司的告诉对方给第三方个电饭锅电饭锅电饭锅电饭锅的双方各</span><span class="s1">&lt;br&gt;&lt;br&gt;&lt;img src='http://192.168.5.2/AttachFile/EmailFile/507_201512231003176358.png' alt='' height='94' align='' width='288'&gt;&lt;br&gt;</span><span class="s8">大使馆分手大师对方发送的广东分公司对方公司的告诉对方给第三方个电饭锅电饭锅电饭锅电饭锅的双方各大使馆分手大师对方发送的广东分公司对方公司的告诉对</span><span class="s1">&lt;/body&gt;&lt;ml&gt;"</span><span class="s6">;</span></p>
<p class="p2"><span class="s1"><span class="Apple-tab-span">	</span></span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s10">NSString</span><span class="s6"> *resPath = [[[</span><span class="s10">NSBundle</span><span class="s6"> </span><span class="s1">mainBundle</span><span class="s6">] </span><span class="s1">bundlePath</span><span class="s6">] </span><span class="s1">stringByAppendingString</span><span class="s6">:</span><span class="s11">@"/"</span><span class="s6">];</span></p>
<p class="p3"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s12">NSLog</span><span class="s6">(</span><span class="s1">@"resPath is %@"</span><span class="s6">,resPath);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>[self.WebView loadHTMLString:htmlString baseURL:[NSURL fileURLWithPath:resPath]];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>[</span><span class="s5">self</span><span class="s1">.</span><span class="s7">WebView</span><span class="s1"> </span><span class="s12">loadHTMLString</span><span class="s1">:htmlString </span><span class="s12">baseURL</span><span class="s1">:</span><span class="s5">nil</span><span class="s1">];</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)didReceiveMemoryWarning {</span></p>
<p class="p1"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s1">// Releases the view if it doesn't have a superview.</span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span>[</span><span class="s5">super</span><span class="s6"> </span><span class="s1">didReceiveMemoryWarning</span><span class="s6">];</span></p>
<p class="p2"><span class="s1"><span class="Apple-tab-span">	</span></span></p>
<p class="p1"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s1">// Release any cached data, images, etc that aren't in use.</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)viewDidUnload {</span></p>
<p class="p1"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s1">// Release any retained subviews of the main view.</span></p>
<p class="p1"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s1">// e.g. self.myOutlet = nil;</span></p>
<p class="p9"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s5">self</span><span class="s6">.</span><span class="s1">WebView</span><span class="s6"> = </span><span class="s5">nil</span><span class="s6">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)dealloc {</span></p>
<p class="p9"><span class="s6"><span class="Apple-tab-span">	</span>[</span><span class="s1">WebView</span><span class="s6"> </span><span class="s12">release</span><span class="s6">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>[</span><span class="s5">super</span><span class="s1"> </span><span class="s12">dealloc</span><span class="s1">];</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p5"><span class="s1">#pragma mark -</span></p>
<p class="p5"><span class="s1">#pragma mark UIWebViewDelegate</span></p>
<p class="p1"><span class="s1">//- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType{</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">    </span>//</span><span class="s8">将</span><span class="s1">url</span><span class="s8">转换为</span><span class="s1">string</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>NSString *picName = [[request URL] absoluteString];</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>NSLog(@"picName is %@",picName);</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">    </span>//hasPrefix </span><span class="s8">判断创建的字符串内容是否以</span><span class="s1">pic:</span><span class="s8">字符开始</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>if ([picName hasPrefix:@"pic:"]) {</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>[self showBigImage:[picName substringFromIndex:4]];</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return NO;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>}else {</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>return YES;</span></p>
<p class="p1"><span class="s1">//<span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1">//}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">BOOL</span><span class="s1">)webView:(</span><span class="s10">UIWebView</span><span class="s1"> *)webView shouldStartLoadWithRequest:(</span><span class="s10">NSURLRequest</span><span class="s1"> *)request navigationType:(</span><span class="s13">UIWebViewNavigationType</span><span class="s1">)navigationType{</span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">//</span><span class="s8">将</span><span class="s1">url</span><span class="s8">转换为</span><span class="s1">string</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s10">NSString</span><span class="s1"> *requestString = [[request </span><span class="s12">URL</span><span class="s1">] </span><span class="s12">absoluteString</span><span class="s1">];</span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">//<span class="Apple-converted-space">    </span>NSLog(@"requestString is %@",requestString);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">//hasPrefix </span><span class="s8">判断创建的字符串内容是否以</span><span class="s1">pic:</span><span class="s8">字符开始</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s1"> ([requestString </span><span class="s12">hasPrefix</span><span class="s1">:</span><span class="s11">@"myweb:imageClick:"</span><span class="s1">]) {</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">NSString</span><span class="s1"> *imageUrl = [requestString </span><span class="s12">substringFromIndex</span><span class="s1">:</span><span class="s11">@"myweb:imageClick:"</span><span class="s1">.</span><span class="s13">length</span><span class="s1">];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p10"><span class="s6"><span class="Apple-converted-space">        </span></span><span class="s1">UIWebViewController</span><span class="s6"> *web = [[</span><span class="s1">UIWebViewController</span><span class="s6"> </span><span class="s12">alloc</span><span class="s6">] </span><span class="s14">initWithUrlString</span><span class="s6">:imageUrl];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p11"><span class="s6"><span class="Apple-converted-space">        </span></span><span class="s1">UINavigationController</span><span class="s6"> *vc = [[</span><span class="s1">UINavigationController</span><span class="s6"> </span><span class="s12">alloc</span><span class="s6">] </span><span class="s12">initWithRootViewController</span><span class="s6">:web];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">        </span>[</span><span class="s5">self</span><span class="s6"> </span><span class="s1">presentViewController</span><span class="s6">:vc </span><span class="s1">animated</span><span class="s6">:</span><span class="s5">YES</span><span class="s6"> </span><span class="s1">completion</span><span class="s6">:</span><span class="s5">nil</span><span class="s6">];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s5">return</span><span class="s1"> </span><span class="s5">NO</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">return</span><span class="s6"> </span><span class="s1">YES</span><span class="s6">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p5"><span class="s1">#pragma mark -</span></p>
<p class="p4"><span class="s3">//</span><span class="s1">显示大图片</span></p>
<p class="p6"><span class="s1">-(</span><span class="s5">void</span><span class="s1">)showBigImage:(</span><span class="s10">NSString</span><span class="s1"> *)imageName{</span></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><span class="s3">//</span><span class="s1">创建灰色透明背景，使其背后内容不可操作</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s10">UIView</span><span class="s1"> *bgView = [[</span><span class="s10">UIView</span><span class="s1"> </span><span class="s12">alloc</span><span class="s1">] </span><span class="s12">initWithFrame</span><span class="s1">:</span><span class="s12">CGRectMake</span><span class="s1">(</span><span class="s4">0</span><span class="s1">, </span><span class="s4">0</span><span class="s1">, </span><span class="s4">320</span><span class="s1">, </span><span class="s4">460</span><span class="s1">)];</span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span>[bgView </span><span class="s1">setBackgroundColor</span><span class="s6">:[</span><span class="s10">UIColor</span><span class="s6"> </span><span class="s1">colorWithRed</span><span class="s6">:</span><span class="s4">0.3</span><span class="s6"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">  </span></span><span class="s12">green</span><span class="s1">:</span><span class="s4">0.3</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s12">blue</span><span class="s1">:</span><span class="s4">0.3</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> <span class="Apple-converted-space">  </span></span><span class="s12">alpha</span><span class="s1">:</span><span class="s4">0.7</span><span class="s1">]];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[</span><span class="s5">self</span><span class="s1">.</span><span class="s13">view</span><span class="s1"> </span><span class="s12">addSubview</span><span class="s1">:bgView];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[bgView </span><span class="s12">release</span><span class="s1">];</span></p>
<p class="p2"><span class="s1"><span class="Apple-tab-span">	</span></span></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><span class="s3">//</span><span class="s1">创建边框视图</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s10">UIView</span><span class="s1"> *borderView = [[</span><span class="s10">UIView</span><span class="s1"> </span><span class="s12">alloc</span><span class="s1">] </span><span class="s12">initWithFrame</span><span class="s1">:</span><span class="s12">CGRectMake</span><span class="s1">(</span><span class="s4">0</span><span class="s1">, </span><span class="s4">0</span><span class="s1">, </span><span class="s15">BIG_IMG_WIDTH</span><span class="s1">+</span><span class="s4">16</span><span class="s1">, </span><span class="s15">BIG_IMG_HEIGHT</span><span class="s1">+</span><span class="s4">16</span><span class="s1">)];</span></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><span class="s3">//</span><span class="s1">将图层的边框设置为圆脚</span><span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>borderView.</span><span class="s13">layer</span><span class="s1">.</span><span class="s13">cornerRadius</span><span class="s1"> = </span><span class="s4">8</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>borderView.</span><span class="s13">layer</span><span class="s1">.</span><span class="s13">masksToBounds</span><span class="s1"> = </span><span class="s5">YES</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s9"><span class="Apple-converted-space">    </span></span><span class="s3">//</span><span class="s1">给图层添加一个有色边框</span><span class="s3"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>borderView.</span><span class="s13">layer</span><span class="s1">.</span><span class="s13">borderWidth</span><span class="s1"> = </span><span class="s4">8</span><span class="s1">;<span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>borderView.</span><span class="s13">layer</span><span class="s1">.</span><span class="s13">borderColor</span><span class="s1"> = [[</span><span class="s10">UIColor</span><span class="s1"> </span><span class="s12">colorWithRed</span><span class="s1">:</span><span class="s4">0.9</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s12">green</span><span class="s1">:</span><span class="s4">0.9</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span> </span><span class="s12">blue</span><span class="s1">:</span><span class="s4">0.9</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s12">alpha</span><span class="s1">:</span><span class="s4">0.7</span><span class="s1">] </span><span class="s12">CGColor</span><span class="s1">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[borderView </span><span class="s12">setCenter</span><span class="s1">:bgView.</span><span class="s13">center</span><span class="s1">];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[bgView </span><span class="s12">addSubview</span><span class="s1">:borderView];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[borderView </span><span class="s12">release</span><span class="s1">];</span></p>
<p class="p2"><span class="s1"><span class="Apple-tab-span">	</span></span></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><span class="s3">//</span><span class="s1">创建关闭按钮</span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s10">UIButton</span><span class="s6"> *closeBtn = [</span><span class="s10">UIButton</span><span class="s6"> </span><span class="s1">buttonWithType</span><span class="s6">:</span><span class="s1">UIButtonTypeCustom</span><span class="s6">];</span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span>[closeBtn </span><span class="s1">setImage</span><span class="s6">:[</span><span class="s10">UIImage</span><span class="s6"> </span><span class="s1">imageNamed</span><span class="s6">:</span><span class="s11">@"close.png"</span><span class="s6">] </span><span class="s1">forState</span><span class="s6">:</span><span class="s1">UIControlStateNormal</span><span class="s6">];</span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span>[closeBtn </span><span class="s1">addTarget</span><span class="s6">:</span><span class="s5">self</span><span class="s6"> </span><span class="s1">action</span><span class="s6">:</span><span class="s5">@selector</span><span class="s6">(removeBigImage:) </span><span class="s1">forControlEvents</span><span class="s6">:</span><span class="s1">UIControlEventTouchUpInside</span><span class="s6">];</span></p>
<p class="p3"><span class="s6"><span class="Apple-tab-span">	</span></span><span class="s12">NSLog</span><span class="s6">(</span><span class="s1">@"borderview is %@"</span><span class="s6">,borderView);</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[closeBtn </span><span class="s12">setFrame</span><span class="s1">:</span><span class="s12">CGRectMake</span><span class="s1">(borderView.</span><span class="s13">frame</span><span class="s1">.</span><span class="s13">origin</span><span class="s1">.</span><span class="s13">x</span><span class="s1">+borderView.</span><span class="s13">frame</span><span class="s1">.</span><span class="s13">size</span><span class="s1">.</span><span class="s13">width</span><span class="s1">-</span><span class="s4">20</span><span class="s1">, borderView.</span><span class="s13">frame</span><span class="s1">.</span><span class="s13">origin</span><span class="s1">.</span><span class="s13">y</span><span class="s1">-</span><span class="s4">6</span><span class="s1">, </span><span class="s4">26</span><span class="s1">, </span><span class="s4">27</span><span class="s1">)];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[bgView </span><span class="s12">addSubview</span><span class="s1">:closeBtn];</span></p>
<p class="p2"><span class="s1"><span class="Apple-tab-span">	</span></span></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><span class="s3">//</span><span class="s1">创建显示图像视图</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span></span><span class="s10">UIImageView</span><span class="s1"> *imgView = [[</span><span class="s10">UIImageView</span><span class="s1"> </span><span class="s12">alloc</span><span class="s1">] </span><span class="s12">initWithFrame</span><span class="s1">:</span><span class="s12">CGRectMake</span><span class="s1">(</span><span class="s4">8</span><span class="s1">, </span><span class="s4">8</span><span class="s1">, </span><span class="s15">BIG_IMG_WIDTH</span><span class="s1">, </span><span class="s15">BIG_IMG_HEIGHT</span><span class="s1">)];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[imgView </span><span class="s12">setImage</span><span class="s1">:[</span><span class="s10">UIImage</span><span class="s1"> </span><span class="s12">imageNamed</span><span class="s1">:imageName]];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[borderView </span><span class="s12">addSubview</span><span class="s1">:imgView];</span></p>
<p class="p6"><span class="s1"><span class="Apple-tab-span">	</span>[imgView </span><span class="s12">release</span><span class="s1">];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p4"><span class="s3">//</span><span class="s1">移除大图片</span></p>
<p class="p6"><span class="s1">-(</span><span class="s5">void</span><span class="s1">)removeBigImage:(</span><span class="s10">UIButton</span><span class="s1"> *)btn{</span></p>
<p class="p8"><span class="s6"><span class="Apple-tab-span">	</span>[[btn </span><span class="s1">superview</span><span class="s6">] </span><span class="s1">removeFromSuperview</span><span class="s6">];</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)webViewDidFinishLoad:(</span><span class="s10">UIWebView</span><span class="s1"> *)aWebView {</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">//</span><span class="s8">调整字号</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">    </span>NSString *str = @"document.getElementsByTagName('body')[0].style.webkitTextSizeAdjust= '95%'";</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">    </span>[self.WebView stringByEvaluatingJavaScriptFromString:str];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p4"><span class="s9"><span class="Apple-converted-space">    </span></span><span class="s3">//js</span><span class="s1">方法遍历图片添加点击事件</span><span class="s3"> </span><span class="s1">返回图片个数</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">static</span><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s10">NSString</span><span class="s1"> * </span><span class="s5">const</span><span class="s1"> jsGetImages =</span></p>
<p class="p3"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">@"function getImages(){\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>var objs = document.getElementsByTagName(\"img\");\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>for(var i=0;i&lt;objs.length;i++){\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>objs[i].onclick=function(){\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>document.location=\"myweb:imageClick:\"+this.src;\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>};\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>};\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>return objs.length;\</span></p>
<p class="p3"><span class="s1"><span class="Apple-converted-space">    </span>};"</span><span class="s6">;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span>[</span><span class="s5">self</span><span class="s6">.</span><span class="s7">WebView</span><span class="s6"> </span><span class="s1">stringByEvaluatingJavaScriptFromString</span><span class="s6">:jsGetImages];</span><span class="s16">//</span><span class="s17">注入</span><span class="s16">js</span><span class="s17">方法</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p4"><span class="s9"><span class="Apple-converted-space">    </span></span><span class="s3">//</span><span class="s1">注入自定义的</span><span class="s3">js</span><span class="s1">方法后别忘了调用</span><span class="s3"> </span><span class="s1">否则不会生效（不调用也一样生效了，，，不明白）</span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s10">NSString</span><span class="s6"> *resurlt = [</span><span class="s5">self</span><span class="s6">.</span><span class="s7">WebView</span><span class="s6"> </span><span class="s1">stringByEvaluatingJavaScriptFromString</span><span class="s6">:</span><span class="s11">@"getImages()"</span><span class="s6">];</span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">//</span><span class="s8">调用</span><span class="s1">js</span><span class="s8">方法</span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">//<span class="Apple-converted-space">    </span>NSLog(@"---</span><span class="s8">调用</span><span class="s1">js</span><span class="s8">方法</span><span class="s1">--%@<span class="Apple-converted-space">  </span>%s<span class="Apple-converted-space">  </span>jsMehtods_result = %@",self.class,__func__,resurlt);</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p7"><span class="s1">@end</span></p>
<p class="p12"><span class="s1"></span><br></p>
<p class="p12"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>UIWebViewController.h</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>UIWebViewDemo</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>Created by ZhangJIanQi on 15/12/23.</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p3"><span class="s2">#import </span><span class="s1">&lt;UIKit/UIKit.h&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s5">@interface</span><span class="s1"> UIWebViewController : </span><span class="s10">UIViewController</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">instancetype</span><span class="s1">)initWithUrlString:(</span><span class="s10">NSString</span><span class="s1"> *)imageUrl;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p7"><span class="s1">@end</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>UIWebViewController.m</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>UIWebViewDemo</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//<span class="Apple-converted-space">  </span>Created by ZhangJIanQi on 15/12/23.</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p1"><span class="s1">//</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p3"><span class="s2">#import </span><span class="s1">"UIWebViewController.h"</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p10"><span class="s5">@interface</span><span class="s6"> </span><span class="s1">UIWebViewController</span><span class="s6"> ()</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p7"><span class="s1">@end</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s5">@implementation</span><span class="s1"> UIWebViewController</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)viewDidLoad {</span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span>[</span><span class="s5">super</span><span class="s6"> </span><span class="s1">viewDidLoad</span><span class="s6">];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p13"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s5">self</span><span class="s6">.</span><span class="s1">view</span><span class="s6">.</span><span class="s1">backgroundColor</span><span class="s6"> = [</span><span class="s10">UIColor</span><span class="s6"> </span><span class="s12">clearColor</span><span class="s6">];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s5">self</span><span class="s6">.</span><span class="s13">navigationItem</span><span class="s6">.</span><span class="s13">rightBarButtonItem</span><span class="s6"> = [[</span><span class="s10">UIBarButtonItem</span><span class="s6"> </span><span class="s1">alloc</span><span class="s6">] </span><span class="s1">initWithTitle</span><span class="s6">:</span><span class="s11">@"</span><span class="s18">取消</span><span class="s11">"</span><span class="s6"> </span><span class="s1">style</span><span class="s6">:</span><span class="s1">UIBarButtonItemStylePlain</span><span class="s6"> </span><span class="s1">target</span><span class="s6">:</span><span class="s5">self</span><span class="s6"> </span><span class="s1">action</span><span class="s6">:</span><span class="s5">@selector</span><span class="s6">(dismiss)];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)dismiss</span></p>
<p class="p6"><span class="s1">{</span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span>[</span><span class="s5">self</span><span class="s6"> </span><span class="s1">dismissViewControllerAnimated</span><span class="s6">:</span><span class="s5">YES</span><span class="s6"> </span><span class="s1">completion</span><span class="s6">:</span><span class="s5">nil</span><span class="s6">];</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p6"><span class="s1">- (</span><span class="s5">void</span><span class="s1">)didReceiveMemoryWarning {</span></p>
<p class="p8"><span class="s6"><span class="Apple-converted-space">    </span>[</span><span class="s5">super</span><span class="s6"> </span><span class="s1">didReceiveMemoryWarning</span><span class="s6">];</span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">// Dispose of any resources that can be recreated.</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p6"><span class="s1">- (</span><span class="s5">instancetype</span><span class="s1">)initWithUrlString:(</span><span class="s10">NSString</span><span class="s1"> *)imageUrl</span></p>
<p class="p6"><span class="s1">{</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s5">if</span><span class="s1"> (</span><span class="s5">self</span><span class="s1"> = [</span><span class="s5">super</span><span class="s1"> </span><span class="s12">init</span><span class="s1">]) {</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">UIWebView</span><span class="s1"> *webView = [[</span><span class="s10">UIWebView</span><span class="s1"> </span><span class="s12">alloc</span><span class="s1">] </span><span class="s12">initWithFrame</span><span class="s1">:</span><span class="s5">self</span><span class="s1">.</span><span class="s13">view</span><span class="s1">.</span><span class="s13">bounds</span><span class="s1">];</span></p>
<p class="p1"><span class="s6"><span class="Apple-converted-space">        </span></span><span class="s1">//</span><span class="s8">执行</span><span class="s1">- (void)viewDidLoad</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">NSURLRequest</span><span class="s1"> *request = [</span><span class="s10">NSURLRequest</span><span class="s1"> </span><span class="s12">requestWithURL</span><span class="s1">:[</span><span class="s10">NSURL</span><span class="s1"> </span><span class="s12">URLWithString</span><span class="s1">:imageUrl]];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>[webView </span><span class="s12">loadRequest</span><span class="s1">:request];</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span>[</span><span class="s5">self</span><span class="s1">.</span><span class="s13">view</span><span class="s1"> </span><span class="s12">addSubview</span><span class="s1">:webView];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p7"><span class="s6"><span class="Apple-converted-space">    </span></span><span class="s1">return</span><span class="s6"> </span><span class="s1">self</span><span class="s6">;</span></p>
<p class="p6"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p7"><span class="s1">@end</span></p>
<p class="p12"><span class="s1"></span><br></p>
<p class="p7"><span class="s1">http://my.oschina.net/linxiaoxi1993/blog/465905?fromerr=Uu5mN3P5</span></p>
<table cellspacing="0" cellpadding="0">
  <tbody>
    <tr>
      <td valign="baseline" class="td1">
        <ul class="ul1">
          <li class="li14"><span class="s19">   </span><span class="s20"> <br>
</span><span class="s19">    </span><span class="s21">//</span><span class="s22">添加捏合手势</span><span class="s20"><br>
</span><span class="s19">    </span><span class="s20">[imgView addGestureRecognizer:[[UIPinchGestureRecognizer alloc]initWithTarget:self action:@selector(handlePinch:)]];<br>
</span></li>
        </td>
      </tr>
    </tbody>
  </table>
  <li class="li15"><span class="s20"></span><br></li>
  <table cellspacing="0" cellpadding="0">
    <tbody>
      <tr>
        <td valign="baseline" class="td2">
          <li class="li16"><span class="s20"></span><br></li>
        </td>
        <td valign="baseline" class="td3">
          <li class="li14"><span class="s20"><br>
- (</span><span class="s23"><b>void</b></span><span class="s20">) handlePinch:(UIPinchGestureRecognizer*) recognizer<br>
{<br>
</span><span class="s19">    </span><span class="s21">//</span><span class="s22">缩放</span><span class="s21">:</span><span class="s22">设置缩放比例</span><span class="s20"><br>
</span><span class="s19">    </span><span class="s20">recognizer.view.transform = CGAffineTransformScale(recognizer.view.transform, recognizer.scale, recognizer.scale);<br>
</span><span class="s19">    </span><span class="s20">recognizer.scale = 1;<br>
}</span></li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<p class="p2"><span class="s1"></span><br></p>
</body>
</html>
