<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1404.47">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'PingFang SC'}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #931a68; background-color: #e0edd4; min-height: 23.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px '.PingFang SC'; min-height: 19.0px}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica; min-height: 22.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #4f76cb}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #777777}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; min-height: 22.0px}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #3933ff}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px '.PingFang SC'; color: #4e9072}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #e32400; background-color: #fff995}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #4e9072}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px '.PingFang SC'; color: #e32400; background-color: #fff995}
    p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px '.PingFang SC'; color: #4e9072; background-color: #fff995}
    p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; background-color: #fff995}
    p.p16 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px 'Helvetica Neue'; color: #7e504f}
    span.s1 {font: 18.0px Helvetica}
    span.s2 {color: #931a68}
    span.s3 {font: 18.0px '.PingFang SC'}
    span.s4 {color: #000000}
    span.s5 {color: #0326cc}
    span.s6 {font: 18.0px '.PingFang SC'; color: #000000}
    span.s7 {font: 18.0px 'Helvetica Neue'; color: #000000}
    span.s8 {font: 18.0px 'Helvetica Neue'}
    span.s9 {color: #7e504f}
    span.s10 {font: 18.0px '.PingFang SC'; color: #4e9072}
    span.s11 {color: #4e9072}
    span.s12 {color: #3933ff}
    span.s13 {font: 18.0px '.PingFang SC'; color: #3933ff}
    span.s14 {font: 18.0px 'Helvetica Neue'; text-decoration: underline}
    span.s15 {color: #e32400}
    span.s16 {font: 18.0px 'Helvetica Neue'; color: #e32400}
    span.s17 {text-decoration: underline ; background-color: #fff995}
    span.s18 {background-color: #fff995}
    span.s19 {text-decoration: underline}
    span.s20 {font: 18.0px '.PingFang SC'; background-color: #fff995}
    span.s21 {font: 18.0px '.PingFang SC'; text-decoration: underline}
    span.s22 {font: 18.0px 'Helvetica Neue'; color: #4e9072}
    span.s23 {color: #6f9173}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><span class="s1">div</span>很多层不要拿最外面一层<span class="s1">,</span>很可能是无效的</p>
<p class="p2"><b></b><br></p>
<p class="p3"><span class="s2"><b>package</b></span> com.buy.ZY.testCase<span class="s3">;</span></p>
<p class="p4"><br></p>
<p class="p3"><span class="s2"><b>public</b></span> <span class="s2"><b>class</b></span> testCourseList <span class="s2"><b>extends</b></span> BaseCase {</p>
<p class="p5"><br></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s3">/</span>**</p>
<p class="p6"><span class="Apple-tab-span">	</span> * <span class="s3">遍历课程</span></p>
<p class="p6"><span class="Apple-tab-span">	</span> *<span class="s3">/</span></p>
<p class="p7"><span class="s4"><span class="Apple-tab-span">	</span></span>@Test</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><b>public</b></span> <span class="s2"><b>void</b></span> courseList<span class="s3">()</span> {</p>
<p class="p8"><br></p>
<p class="p9"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s5">driver</span><span class="s4">.get</span><span class="s6">(</span>"http:<span class="s3">//</span>coding.imooc.com<span class="s3">/</span>"<span class="s6">);</span></p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//<span class="s8"> </span>每个<span class="s8">course</span>小模块的标题数组</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>List&lt;String&gt; <span class="s9">listString</span> = courseListElement<span class="s3">();</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><b>for</b></span> <span class="s3">(</span>String <span class="s9">string</span> : <span class="s9">listString</span><span class="s3">)</span> {</p>
<p class="p8"><br></p>
<p class="p11"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s10">//</span><span class="s11"> By.xpath</span><span class="s10">(</span><span class="s11">"</span><span class="s3">//</span>*[contains<span class="s3">(</span>text<span class="s3">(),</span><span class="s11">'"+string+"'</span><span class="s3">)</span>]<span class="s11">"</span><span class="s10">)//获取</span><span class="s3">控件包含</span>text<span class="s3">(文字)是</span><span class="s11">string</span><span class="s3">的元素</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>WebElement <span class="s9">clickElement</span> = <span class="s5">driver</span>.findElement<span class="s3">(</span>By.<i>xpath</i><span class="s3">(</span><span class="s12">"</span><span class="s13">//</span><span class="s12">*[contains</span><span class="s13">(</span><span class="s12">text</span><span class="s13">(),</span><span class="s12">'"</span> + <span class="s9">string</span> + <span class="s12">"'</span><span class="s13">)</span><span class="s12">]"</span><span class="s3">));</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s9">clickElement</span>.click<span class="s3">();</span></p>
<p class="p10"><span class="s7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//<span class="s8"> </span>因为直接获取到<span class="s14">classname</span>再返回,<span class="s8"> </span>页面会刷新//<span class="s8"> </span>解决办法<span class="s8">: </span><span class="s15">根据一个不变的元素获取数据,</span><span class="s16"> </span><span class="s15">这个不变的元素是每个</span><span class="s16">course</span><span class="s15">小模块的标题</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s5">driver</span>.back<span class="s3">();</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p3"><span class="Apple-tab-span">	</span>}</p>
<p class="p8"><br></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span><span class="s3">/</span>**</p>
<p class="p6"><span class="Apple-tab-span">	</span> * <span class="s3">获取所有课程的</span>list</p>
<p class="p6"><span class="Apple-tab-span">	</span> *<span class="s3">/</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="s2"><b>public</b></span> List&lt;String&gt; courseListElement<span class="s3">()</span> {</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p10"><span class="s7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//<span class="s8"> </span>每个<span class="s8">course</span>小模块的标题数组</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>List&lt;String&gt; <span class="s9">listString</span> = <span class="s2"><b>new</b></span> ArrayList&lt;String&gt;<span class="s3">();</span></p>
<p class="p8"><br></p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> &lt;div class="<span class="s17">shizhan</span><span class="s18">-course-list</span> <span class="s19">clearfix</span>"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span>&lt;div class="<span class="s19">shizhan</span>-course-wrap l"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;a <span class="s19">href</span>="<span class="s3">/</span>class<span class="s3">/</span>136.<span class="s19">html</span>"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="<span class="s17">shizhan</span><span class="s18">-course-box</span>"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="box"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="<span class="s19">img</span>-box"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="<span class="s19">shizhan</span>-<span class="s19">intro</span>-box"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;p class="<span class="s17">shizan</span><span class="s18">-name</span>" title="Python3<span class="s3">入门与进阶</span>"&gt;<span class="s18">Python3</span><span class="s20">入门与进阶</span>&lt;<span class="s3">/</span>p&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;p class="<span class="s19">shizan</span>-<span class="s19">desc</span>"<span class="s4"> </span>title="<span class="s3">入门就是最新版本，让你快速掌握</span>Python3"&gt;<span class="s3">入门就是最新版本，让你快速掌握</span>Python3&lt;<span class="s3">/</span>p&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;div class="<span class="s19">shizhan</span>-info-bottom"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s19">&lt;</span><span class="s21">/</span><span class="s19">div&gt;</span></p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s19">&lt;</span><span class="s21">/</span><span class="s19">div&gt;</span></p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s19">&lt;</span><span class="s21">/</span><span class="s19">div&gt;</span></p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>&lt;<span class="s3">/</span>a&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//<span class="Apple-tab-span">	</span></span> <span class="s19">&lt;</span><span class="s21">/</span><span class="s19">div&gt;</span></p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span>&lt;div class="<span class="s19">shizhan</span>-course-wrap l"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="Apple-tab-span">	</span>&lt;div class="<span class="s19">shizhan</span>-course-wrap l"&gt;</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="s19">&lt;</span><span class="s21">/</span><span class="s19">div&gt;</span></p>
<p class="p8"><br></p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s3">//</span> <span class="s3">获取</span>course<span class="s3">小模块的大</span><span class="s19">div</span><span class="s3">元素</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>WebElement <span class="s9">element</span> = <span class="s5">driver</span>.findElement<span class="s3">(</span>By.<i>className</i><span class="s3">(</span><span class="s12">"shizhan-course-list"</span><span class="s3">));</span></p>
<p class="p8"><br></p>
<p class="p13"><span class="s7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s11">//</span><span class="s22"> </span>从大<span class="s14">div</span>元素中获取中层的<span class="s14">div</span>元素,<span class="s8"> </span>可以直接获取成数组<span class="s8">List </span><span class="s23">//</span> <span class="s8">shock!!! </span>惊!!!</p>
<p class="p14"><span class="s7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//<span class="s8"> </span>很多层时,<span class="s8"> </span>不要拿最外面那一层,<span class="s8"> </span>很可能是无效的,<span class="s8"> </span>可能会报错</p>
<p class="p15"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>List&lt;WebElement&gt; <span class="s9">elements</span> = <span class="s9">element</span>.findElements<span class="s3">(</span>By.<i>className</i><span class="s3">(</span><span class="s12">"shizhan-course-box"</span><span class="s3">));</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2"><b>for</b></span> <span class="s3">(</span>WebElement <span class="s9">webElement</span> : <span class="s9">elements</span><span class="s3">)</span> {</p>
<p class="p8"><br></p>
<p class="p10"><span class="s7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>//<span class="s8"> </span>获取每个<span class="s8">course</span>小模块的标题</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s9">listString</span>.add<span class="s3">(</span><span class="s9">webElement</span>.findElement<span class="s3">(</span>By.<i>className</i><span class="s3">(</span><span class="s12">"shizan-name"</span><span class="s3">))</span>.getText<span class="s3">());</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>}</p>
<p class="p16"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span><span class="s2"><b>return</b></span><span class="s4"> </span>listString<span class="s6">;</span></p>
<p class="p3"><span class="Apple-tab-span">	</span>}</p>
</body>
</html>
